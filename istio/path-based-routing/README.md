## Path-based routing

- nginx.domain.com/v1/ -> Pod nginx-v1
- nginx.domain.com/v2/ -> Pod nginx-v2
- nginx.domain.com/v3/ -> Pod nginx-v3

### Physical Topology
```
                                     +---------------------------------------------------------+
                                     |                                                         |
                                     |                                                         |
                                     |                                 + ------------------+   |
                                     |                                 |                   |   |
                                     |                      +---------->    Pod nginx v1   |   |
                                     |                      |          |                   |   |
       nginx.domain.com/v1/          |                      |          + ------------------+   |
       nginx.domain.com/v2/          |                      |                                  |
       nginx.domain.com/v3/          |   +--------------------+        + ------------------+   |
                                     |   |                    |        |                   |   |
----------------------------------------->   IngressGateway   +-------->    Pod nginx v2   |   |
                                     |   |                    |        |                   |   |
                                     |   +--------------------+        + ------------------+   |
                                     |                      |                                  |
                                     |                      |          + ------------------+   |
                                     |                      |          |                   |   |
                                     |                      +---------->    Pod nginx v3   |   |
                                     |                                 |                   |   |
                                     |                                 + ------------------+   |
                                     |                                                         |
                                     |                                                         |
                                     +---------------------------------------------------------+

```



### HTTP Routing
```
                                   +------------------+
       nginx.domain.com/v1/        |                  |
 --------------------------------> |   Pod nginx v1   |  <------+
                                   |                  |         |
                                   +------------------+         |
                                                                |
                                   +------------------+         |
       nginx.domain.com/v2/        |                  |         |
 --------------------------------> |   Pod nginx v2   |         |
                                   |                  |         |
                                   +------------------+         |
                                                                |
                                   +------------------+         |
       nginx.domain.com/v3/        |                  |         |
 --------------------------------> |   Pod nginx v3   |  <------+
                                   |                  |
                                   +------------------+
```
